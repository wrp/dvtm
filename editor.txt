

= {name}-EDITOR (1)
William R. Pursell; Marc Andr√© Tanner; Dmitry Bogatov
:doctype: manpage
:man manual: BSD General Commands Manual
:man source: {name}-editor {version}
:man version: {version}

== NAME
{name}-editor - use a text editor as a filter

== SYNOPSIS
*{name}-editor* [ARGS...]

== DESCRIPTION
{name}-editor is a file buffering utility used by {name}(1)
to implement its copy mode. It reads standard input and
saves it to a temporary file, then opens an editor ($STM_EDITOR,
$DVTM_EDITOR, $VISUAL, $EDITOR, or, if all of those are unset, vi),
and writes the data to stdout if the editor exits succesfully.

If the invoked editor terminates with a non-zero exit status
{name}-editor does not output anything.

== ENVIRONMENT VARIABLES
=== TMPDIR
The temporary used will have the path $TMPDIR/{name}-editor.XXXXXX

=== STM_EDITOR, DVTM_EDITOR, VISUAL, EDITOR
These variables are checked in order.  The first that is set will be
used to invoke the editor.  If all are unset, "vi" will be used.

== FILES
A temporary file with a template $TMPDIR/{name}-editor.XXXXXX will be used
to store stdin.  Its name is passed to the invoked editor as its final argument.

/dev/tty is opened to obtain a controlling tty which is used for the
standard input/output streams of the invoked editor.

== NOTES
Using vis(1) as editor is particularly convenient because :wq! in visual
mode will reduce the file to the currently active selection(s).

== SEE ALSO
vi(1), dvtm(1), dvtm-pager(1)
